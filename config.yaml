# =========================================================
# HYPERVIEW2 Challenge - Configuration File
# =========================================================

experiment:
  name: hyperview2_baseline
  random_seed: 42
  strict_validation: false  # Set True to stop pipeline if validation fails

data:
  root_dir: data
  raw_dir: data/raw
  train_dir: data/raw/train
  test_dir: data/raw/test
  gt_csv: data/raw/train_gt.csv
  modalities:
    train:
      - msi_satellite
      - hsi_satellite
      - hsi_airborne
    test:
      - msi_satellite
      - hsi_satellite

train:
  val_split: 0.7
  shuffle: true
  save_models: true
  model_dir: "features"
  log_transform: true

pca:
  msi: 10
  hsi: 10
  airborne: 30

dropout:
  airborne: 0.05  # Probability of dropping airborne HSI during training

targets:
  columns:
    - B
    - Cu
    - Zn
    - Fe
    - S
    - Mn

xai:
  enabled: false
  output_dir: xai_results

validation:
  enabled: true
  strict: false
  verbosity: summary
  log_dir: logs
  checks:
    gt_columns: true
    gt_missing: true
    gt_negative: true
    modality_alignment: true
    mask_consistency: true
  thresholds:
    max_zero_soil_fraction: 1

model:
  type: random_forest  # or xgboost
  
  # Random Forest parameters
  random_forest:
    n_estimators: 50
    max_depth: 15
    min_samples_split: 5
    min_samples_leaf: 2
    seed: 42
    n_jobs: 2

  # XGBoost parameters
  xgboost:
    objective: reg:tweedie
    tweedie_variance_power: 1.5
    n_estimators: 100
    learning_rate: 0.1
    max_depth: 6
    seed: 42
    n_jobs: 2